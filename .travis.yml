language: python
sudo: require
matrix:
  include:
    - python: "2.7"
      env: TOX_ENV=py27
      arch: amd64
    - python: "2.7"
      env: TOX_ENV=py27-pysnmp42
      arch: amd64
    - python: "3.4"
      env: TOX_ENV=py34
      arch: amd64
    - python: "3.5"
      env: TOX_ENV=py35
      arch: amd64
    - python: "3.5"
      env: TOX_ENV=py35-pysnmp42
      arch: amd64
    - python: "3.5"
      env: TOX_ENV=py35-ipython
      arch: amd64
    - python: "3.6"
      env: TOX_ENV=py36
      arch: amd64
    - python: "3.7"
      env: TOX_ENV=py37
      arch: amd64
    - python: "3.8"
      env: TOX_ENV=py38
      arch: amd64
    - python: "pypy"
      env: TOX_ENV=pypy
      arch: amd64
    - python: "pypy"
      env: TOX_ENV=pypy-pysnmp42
      arch: amd64
    - python: "3.6"
      env: TOX_ENV=lint
      arch: amd64
    - python: "3.6"
      env: TOX_ENV=doc
      arch: amd64
    - python: "2.7"
      env: TOX_ENV=py27
      arch: ppc64le
    - python: "2.7"
      env: TOX_ENV=py27-pysnmp42
      arch: ppc64le
    - python: "3.4"
      env: TOX_ENV=py34
      arch: ppc64le
    - python: "3.5"
      env: TOX_ENV=py35
      arch: ppc64le
    - python: "3.5"
      env: TOX_ENV=py35-pysnmp42
      arch: ppc64le
    - python: "3.5"
      env: TOX_ENV=py35-ipython
      arch: ppc64le
    - python: "3.6"
      env: TOX_ENV=py36
      arch: ppc64le
    - python: "3.7"
      env: TOX_ENV=py37
      arch: ppc64le
    - python: "3.8"
      env: TOX_ENV=py38
      arch: ppc64le
    - python: "3.6"
      env: TOX_ENV=lint
      arch: ppc64le
    - python: "3.6"
      env: TOX_ENV=doc
      arch: ppc64le
addons:
  apt:
    packages:
      - pkg-config 
      - libsmi2-dev 
      - libsnmp-dev 
      - snmp-mibs-downloader 
      - ncurses-term
install:
  - pip install tox coveralls
before_script:
  - sudo sh -c 'echo 0 > /proc/sys/net/ipv6/conf/all/disable_ipv6'
script:
  - tox -e $TOX_ENV
after_success:
  - coveralls
